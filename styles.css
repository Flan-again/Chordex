:root {
  color-scheme: dark;
  --bg: #0f1324;
  --panel: #1a2140;
  --panel-alt: #151b34;
  --text: #e9ecff;
  --muted: #a8b0db;
  --accent: #70b7ff;
  --accent-2: #67f0c7;
}
* { box-sizing: border-box; }
body { margin: 0; min-height: 100vh; font-family: Inter, ui-sans-serif, system-ui; color: var(--text); background: radial-gradient(circle at top, #1d2959 0%, var(--bg) 48%); }
.app { max-width: 1280px; margin: 0 auto; padding: 1.25rem; display: grid; gap: 1rem; }
.panel { background: linear-gradient(180deg, var(--panel), var(--panel-alt)); border: 1px solid #2d3a75; border-radius: 14px; padding: 1rem; }
header h1 { margin: 0; }
header p { margin: .35rem 0 0; color: var(--muted); }
.panel-title-row { display:flex; justify-content:space-between; align-items:center; gap:.8rem; flex-wrap:wrap; }
.panel h2 { margin:0 0 .75rem; }
select,input[type='text'],button,input[type='checkbox'] { background:#0f1530; color:var(--text); border:1px solid #3a4787; border-radius:8px; padding:.45rem .5rem; font-size: 12px;}
select {
  -webkit-appearance: none;
  appearance: none;
  padding-right: 2rem;
  background-image:
    linear-gradient(45deg, transparent 50%, #9aacff 50%),
    linear-gradient(135deg, #9aacff 50%, transparent 50%);
  background-position:
    calc(100% - 14px) calc(50% + 1px),
    calc(100% - 9px) calc(50% + 1px);
  background-size: 5px 5px, 5px 5px;
  background-repeat: no-repeat;
}
select::-ms-expand { display: none; }
select option { background:#0f1530; color:var(--text); }
button { cursor:pointer; }
label { color:var(--muted); font-size:.9rem; display:grid; gap:.35rem; }
.options-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap:.8rem; align-items:end; }
.options-grid > label { width:100%; }
.options-grid select { width:100%; min-height:2.35rem; }
.toggle-field { display:grid; gap:.35rem; }
.switch-label { display:flex; align-items:center; justify-content:center; min-height:2.35rem; width:100%; padding:.45rem .55rem; border:1px solid #31407d; border-radius:8px; background:#10173a; }
.save-tuning-row { margin: .4rem 0 .85rem; display:grid; grid-template-columns:minmax(180px, 1fr) minmax(220px, 1fr); gap:.6rem; align-items:end; }
.save-tuning-row #presetSelect {
  width: 100%;
  min-height: 2.45rem;
  padding: .52rem .65rem;
  border-color: #4f62b7;
  background: linear-gradient(180deg, #141d46, #101736);
  font-weight: 600;
}
.save-tuning-row .tuning-save-controls {
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(68px, 14%);
  gap: .5rem;
}
.save-tuning-row #tuningNameInput {
  width: 100%;
  min-height: 2.45rem;
  padding: .52rem .65rem;
}
.save-tuning-row #saveTuningBtn {
  min-height: 2.45rem;
  padding: .5rem .6rem;
  border-color: #4d9fe8;
  background: linear-gradient(180deg, #1f5a8f, #184973);
  font-weight: 700;
}
.save-tuning-row #saveTuningBtn:disabled,
.save-tuning-row #tuningNameInput:disabled {
  opacity: .55;
}
.tuning-controls { display:grid; grid-template-columns: repeat(6, minmax(110px,1fr)); gap:.65rem; }
.string-row { display:flex; flex-direction:column; gap:.35rem; align-items:center; padding:.55rem; border-radius:10px; background:#111737; border:1px solid #2a3569; }
.string-row.inactive { opacity:.52; }
.string-label { font-weight:600; color:#d7ddff; }
.tuning-note { font-size:1.25rem; font-weight:800; }
.tuning-arrows { display:flex; gap:.35rem; }
.arrow-btn,.toggle-btn { width:2rem; height:2rem; border-radius:999px; border:1px solid #3a4787; display:grid; place-items:center; padding:0; }
.toggle-btn.active { border-color:#67f0c7; background:#1a2c4d; }
.toggle-btn svg { width:15px; height:15px; }
.offset-value { color:var(--muted); font-size:.82rem; }
.fretboard-top-row { display:flex; flex-wrap:wrap; justify-content:space-between; gap:.8rem; margin-bottom:.55rem; }
.fretboard-legend { display:flex; flex-wrap:wrap; gap:.4rem; }
.legend-item { border:1px solid #2f3c79; background:#111737; border-radius:999px; padding:.3rem .5rem; display:flex; flex-direction:column; align-items:center; min-width:68px; cursor:pointer; font-size:.75rem; }
.legend-item.off { opacity:.45; }
.legend-item.missing-degree { cursor:default; }
.legend-dot { width:1.55rem; height:1.55rem; border-radius:50%; display:grid; place-items:center; font-size:.72rem; font-weight:700; color:#0f1324; }
.scale-chord-buttons { display:flex; flex-wrap:wrap; gap:.35rem; justify-content:flex-end; }
.scale-chord-button { width:70px; text-align:center; }
.scale-chord-buttons button.active { border-color:#67f0c7; }
.scale-chord-buttons button.dimmed { opacity:.45; }
.fretboard-wrap { overflow:auto; border-radius:10px; border:1px solid #2f3c79; padding:.5rem; background:#0f1635; display:flex; justify-content:center; }
svg { width:100%; height:auto; display:block; }
.fretboard-wrap svg { width:min(100%, 1160px); margin:0 auto; }
.segmented { display:flex; flex-wrap:wrap; gap:.35rem; }
.segmented button.active { border-color:#67f0c7; }
.hidden { display:none; }
.specific-controls { display:grid; gap:.65rem; margin-bottom:.8rem; }
.chip-row { display:flex; flex-wrap:wrap; gap:.35rem; }
.chip { border:1px solid #3a4787; border-radius:999px; background:#0f1530; padding:.25rem .55rem; font-size:.82rem; }
.chip.active { border-color:#67f0c7; }
.tuning-summary { color:var(--muted); margin:0 0 .8rem; }
.diagram-grid { display:grid; grid-template-columns:1fr; gap:.8rem; }
.diagram-card { border:1px solid #2f3c79; background:#111737; border-radius:12px; padding:.7rem; }
.chord-head { display:flex; justify-content:space-between; flex-wrap:wrap; gap:.4rem; align-items:center; }
.inversion-toggles { display:flex; gap:.3rem; flex-wrap:wrap; }
.voicing-row-head { display:flex; justify-content:space-between; align-items:center; margin-top:.55rem; }
.voicing-nav { display:flex; gap:.3rem; }
.voicing-grid { display:grid; grid-template-columns: repeat(5, minmax(150px,1fr)); gap:.65rem; }
.voicing-item { border:1px solid #304080; border-radius:10px; background:#0d1432; padding:.35rem; }
.shape-line { margin:.2rem 0 0; font-size:.8rem; color:var(--muted); text-align:center; }
@media (max-width: 900px){ .tuning-controls{grid-template-columns:repeat(3,minmax(120px,1fr));} .voicing-grid{grid-template-columns: repeat(3,minmax(150px,1fr));}}
@media (max-width: 680px){ .save-tuning-row{grid-template-columns:1fr;} .save-tuning-row .tuning-save-controls{grid-template-columns:1fr auto;} .tuning-controls{grid-template-columns:repeat(2,minmax(120px,1fr));} }
